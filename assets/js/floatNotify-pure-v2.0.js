(function(a){if(window["define"]==undefined){var b={},c=b.exports={};a(null,c,b),window.floatNotify=window.notification=b.exports}else define("/mw/base/styles/component/float/js/notification.js",["zepto"],a)})(function(a,b,c){function o(a){this._options=d.extend({mode:"msg",text:"网页提示",useTap:!1},a||{}),this._init()}var d=a?a("zepto"):window.$,e=d(window),f=['<div class="c-float-popWrap msgMode hide">','<div class="c-float-modePop">','<div class="warnMsg"></div>','<div class="content"></div>','<div class="doBtn">','<button class="ok">确定</button>','<button class="cancel">取消</button>',"</div>","</div>","</div>"].join(""),g=d(f),h=g.find(".warnMsg"),i=g.find(".content"),j=g.find(".doBtn .ok"),k=g.find(".doBtn .cancel"),l=!1,m="#tbh5v0",n;d.extend(o.prototype,{_init:function(){var a=this,b=a._options,c=b.mode,f=b.text,n=b.content,o=b.callback,p=b.background,q=b.useTap?"tap":"click",r=b.usedInWangWang,s=g.attr("class");s=s.replace(/(msg|alert|confirm)Mode/i,c+"Mode"),g.attr("class",s),p&&g.css("background",p),f&&h.html(f),n&&i.html(n),j.off(q).on(q,function(b){o.call(a,b,!0)}),k.off(q).on(q,function(b){o.call(a,b,!1)}),l||(l=!0,d(m).append(g),r||e.on("resize",function(){setTimeout(function(){a._pos()},500)}))},_pos:function(){var a=this,b=document,c=b.documentElement,d=b.body,e,f,h,i,j,k;a.isHide()||(e=d.scrollTop,f=d.scrollLeft,h=c.clientWidth,i=c.clientHeight,j=g.width(),k=g.height(),g.css({top:e+(i-k)/2,left:f+(h-j)/2}))},isShow:function(){return g.hasClass("show")},isHide:function(){return g.hasClass("hide")},_cbShow:function(){var a=this,b=a._options,c=b.onShow;g.css("opacity","1").addClass("show"),c&&c.call(a)},show:function(){var a=this;n&&(clearTimeout(n),n=undefined),a.isShow()?a._cbShow():(g.css("opacity","0").removeClass("hide"),a._pos(),setTimeout(function(){a._cbShow()},300),setTimeout(function(){g.animate({opacity:"1"},300,"linear")},1))},_cbHide:function(){var a=this,b=a._options,c=b.onHide;g.css("opacity","0").addClass("hide"),c&&c.call(a)},hide:function(){var a=this;a.isHide()?a._cbHide():(g.css("opacity","1").removeClass("show"),setTimeout(function(){a._cbHide()},300),setTimeout(function(){g.animate({opacity:"0"},300,"linear")},1))},flash:function(a){var b=this;opt=b._options,opt.onShow=function(){n=setTimeout(function(){n&&b.hide()},a)},b.show()}}),c.exports=new function(){this.simple=function(a,b,c){arguments.length==2&&typeof arguments[1]=="number"&&(c=arguments[1],b=undefined);var d=new o({mode:"msg",text:a,background:b});return d.flash(c||2e3),d},this.msg=function(a,b){return new o(d.extend({mode:"msg",text:a},b||{}))},this.alert=function(a,b,c){return new o(d.extend({mode:"alert",text:a,callback:b},c||{}))},this.confirm=function(a,b,c,e){return new o(d.extend({mode:"confirm",text:a,content:b,callback:c},e||{}))},this.pop=function(a){return new o(a)}}});
